# 简道云-表单设置-视频学习笔记

## 日期：2023/05/26

## 学习内容：表单管理（简道云视频课）



需具备以下三个条件，才考虑做表单模版：

1.单日重复频率高；

2.使用周期长；

3.流程固定清晰。

<b>考虑投入性价比!!!!</b>

## 简介
表单分为普通和流程表单，最大区别在是否需要设置流程。

注意主菜单栏的文字提示。

### 表单设计概述

普通表单：选择字段 -> 拖拽设计表单 -> 调整属性（字段 & 表单）

流程表单（多了一个步骤，流程）：节点选择 -> 流程设计 -> 属性设置


### 表单设计

普通表单类似于EXCEL的设计，注意字段扩展。

从EXCEL导入表单会很好用，通常把第一行设置为字段（符合业务人员逻辑）。

模版和数据可以分离查看是个很不错的设计。

我靠这不就是前端表单被封装了吗哈哈哈。


## 字段

自定义就是设定default值。

### 单行文本
在人事信息管理中，姓名、手机号码、年龄字段都可以使用单行文本进行收集。

单行文本的默认值可以设置为以下三种类型：自定义、数据联动、公式编辑。

#### 问题：
1.扫码填写的适用场景（活动签到、物品清点？）

2.为什么只能在子表单中使用连续扫码功能？
AI回答：如果在主表单中使用连续扫码功能，可能会导致用户不小心把文本框中的内容覆盖掉，或者把扫描到的码混淆到输入的文本中，从而影响数据的准确性。因此，将连续扫码功能限制在子表单中，可以避免这些问题的发生。

### 数字字段
数字字段的内容最长位数是16 位；

如果需要录入银行卡等位数超过16位的纯数字编号，建议使用单行文本字段，否则无法录入完整信息。

不计算的数字就不需要使用数字字段。

数字字段和单行文本不可以切换。


### 单选按钮
可以增加彩色便于区分。

设计时勾选即默认。

### 下拉复选框
排序字段：支持对关联表单中的如下字段值进行排序：

当前选项的值

表单字段：单行文本、数字、日期时间、单选按钮组、下拉框、流水号

系统字段：提交时间、更新时间、微信 OpenID、微信昵称、扩展字段

#### 得分设置（count函数）
下拉复选框 目前的逻辑为：勾选多个选项之后，选项的存储排序是按照勾选顺序来排列的，而不是按照选项本身的顺序来排列的。即：下拉复选框依次勾选了「B、C、A」之后，存储起来的排序就是「B、C、A」，而不是「A、B、C」。

对set进行set操作，而非number的操作。（使用union进行去重）。

### 增强字段
location可以开启“允许微调”。

压缩图片只能用在移动端（场景被限制的功能慎用！）

关联查询只是展示，不入库。关联数据是让数据入库。

“手机”：需要真实判断需求（发短信过去）。

### 部门成员字段
针对内部。

使用【成员单选】-【动态参数】获取用户自己的信息。“自己所处部门”用得比较多。
对外发布是使用不了的，如果要获得个人信息还是得用基础字段。

## 表单数据权限
基础设置-数据权限

可见和隐藏。注意数据安全。


## 校验
字段属性和表单属性都有校验。

流程表单是在【流程设定】的【更多属性】里进行【节点校验条件】设置。

## 数据联动
### 一级联动
要导入数据的表使用【数据联动】。修改字段的【默认值】即可。
就是主key啊啊啊啊啊。
### 多级联动
多个字段条件联动。其实就是conditions设置。

多级联动必须是一层一层的，而不是一个key带出来（相当于对表进行多层筛选）。

基本都是使用下拉框，因为条件多多。


## 公式编辑
修改【字段属性】-【默认值】

从表单字段里选择，而不是手敲！

函数命名需要大写。

type相同才能进行计算。

## MAPX多条件应用
跨表调用。

防并发。增加一个刷新值，触发第二次运行。

IF的格式是三元运算符，好神奇。

两个条件同时满足，可以用一个辅助字段连起来，然后作为单条件用MAPX（这个函数只能传一个函数参数进去）。

检索值是当前表单，检索范围是跨表的另一张表（已有数据）。

运用和调用函数一样。vlookup。

底层思维：连接两个key即可跨表查找。

## 外链美化
【表单属性】-【表单外链样式】。
可以进行一些简单的美化。

## 不可见字段赋值
空值（空问题）、原值（保留文本）、始终重新计算（涉及计算）


## 推送提醒
进入需要修改的表单，点击【扩展功能】，选择【推送提醒】。

不提醒给填表单人本人。

提醒不往child走，子部门是收不到提醒的，需要勾选到unit。

修改触发条件：通过前台修改。

要给被提醒人查看数据的权限。
